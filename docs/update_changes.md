# 次期アップデート変更記録

**実装期間**: 2025年8月18日 〜

## 第1段階: メニュー式操作の実装

### 実装目標

- プレイヤー操作を「選択肢を選ぶ形式」にする（メニュー式）
- 基本的なメニュー表示と選択処理を実装
- 既存のゲーム機能は保持したまま、メニューから呼び出せるようにする

### 実装予定の変更

1. `src/game.rs` にメニュー表示関数を追加
2. MenuChoice enum を定義
3. 既存の `run_game` をメニューから呼び出せるように調整
4. 基本的な入力パーサを実装

### 動作確認項目

- [x] メインメニューが表示される
- [x] 選択肢が正しく表示される
- [x] ゲーム開始機能動作確認
- [x] 終了機能動作確認

### 実装済み詳細

**実装済み項目**:

1. **MenuChoice 列挙型の追加**
   - `StartGame`、`Quit` バリアント
   - `from_input()` メソッドで数値入力を処理

2. **メニュー表示機能**
   - `display_menu()`: メニューオプションの表示
   - `get_user_choice()`: ユーザー入力の取得と検証

3. **メニューループ機能**
   - `run_menu_loop()`: メイン制御ループ
   - 既存の `run_game()` をラップ

4. **main.rs の更新**
   - `run_menu_loop()` を呼び出すように変更

**テスト結果**:

- ✅ ビルド成功（警告は予期される未使用フィールドのみ）
- ✅ メニュー表示機能動作確認
- ✅ 終了（オプション2）機能動作確認  
- ✅ ゲーム開始（オプション1）からゲーム実行まで動作確認

**ステータス**: 第1段階完了 ✅

次の段階: 第2段階（戦略選択システム）の準備が整いました。

- [ ] 既存のゲーム機能が正常に動作する
- [ ] 不正な入力に対するエラーハンドリング

---

## 実装ログ

### 2025年8月18日

- 変更記録ファイル作成
- 第1段階開始準備
