# 概要

ブラックジャックの簡潔な定石（ベーシックストラテジー）です。本ドキュメントは「サレンダーあり（Early Surrender／早期サレンダー）」を前提とします。ディーラーは17未満でヒットする標準ルールを想定しています。

略記:

- H: Hit（ヒット）
- S: Stand（スタンド）
- D: Double if allowed, otherwise Hit（ダブル可能ならダブル、不可ならヒット）
- SP: Split（スプリット）
- SU: Surrender（早期サレンダー）

## ハードハンド（Aを含まない合計）

| 合計 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | A |
|---:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| 8以下 | H | H | H | H | H | H | H | H | H | H |
| 9 | H | D | D | D | D | H | H | H | H | H |
| 10 | D | D | D | D | D | D | D | D | H | H |
| 11 | D | D | D | D | D | D | D | D | D | H |
| 12 | H | H | S | S | S | H | H | H | H | H |
| 13–15 | S | S | S | S | S | H | H | H | SU | H |
| 16 | S | S | S | S | S | H | H | SU | SU | SU |
| 17–20 | S | S | S | S | S | S | S | S | S | S |

## ソフトハンド（Aを含む合計）

| 手札（例） | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | A |
|---|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| A,2 (soft 13) | H | H | H | D | D | H | H | H | H | H |
| A,3 (soft 14) | H | H | H | D | D | H | H | H | H | H |
| A,4–A,5 (soft 15/16) | H | H | D | D | D | H | H | H | H | H |
| A,6 (soft 17) | H | D | D | D | D | H | H | H | H | H |
| A,7 (soft 18) | S | D | D | D | D | S | S | H | H | H |
| A,8 (soft 19) | S | S | S | S | S | S | S | S | S | S |
| A,9 (soft 20) | S | S | S | S | S | S | S | S | S | S |

## ペア（スプリット）

| ペア | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | A |
|---|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| A,A | SP | SP | SP | SP | SP | SP | SP | SP | SP | SP |
| 2,2 | SP | SP | SP | SP | SP | SP | H | H | H | H |
| 3,3 | SP | SP | SP | SP | SP | SP | H | H | H | H |
| 4,4 | H | H | H | SP | SP | H | H | H | H | H |
| 5,5 | D | D | D | D | D | D | D | D | H | H |
| 6,6 | SP | SP | SP | SP | SP | H | H | H | H | H |
| 7,7 | SP | SP | SP | SP | SP | SP | H | H | H | H |
| 8,8 | SP | SP | SP | SP | SP | SP | SP | SP | SP | SP |
| 9,9 | SP | SP | SP | SP | SP | S | SP | SP | S | S |
| 10,10 | S | S | S | S | S | S | S | S | S | S |

- A,A: 常に SP
- 2,2 / 3,3: SP vs 2–7, それ以外は H
- 4,4: 通常は SP しない（ルール依存）
- 5,5: SP しない（10として扱い D を検討）
- 6,6: SP vs 2–6, それ以外は H
- 7,7: SP vs 2–7, それ以外は H
- 8,8: 常に SP
- 9,9: SP vs 2–6,8,9; S vs 7,10,A

## サレンダー（降参）

本ドキュメントは早期サレンダー（Early Surrender）を前提とします。早期サレンダーはディーラーがブラックジャックかどうかを確認する前にプレイヤーが降参できる方式で、後期サレンダーよりプレイヤーに有利です。

推奨（Early Surrender 前提）:

- 合計16（非ペア）: ディーラーが 9, 10, A のときは SU（降参）を推奨
- 合計15（非ペア）: ディーラーが 10 のときは SU を検討（ルールやデッキ数に依存）

注意:

- スプリットが可能なペア（例: 8,8 など）はスプリットが優先され、サレンダーは適用しない。

実装メモ:

- 設定でサレンダーモード（none / early / late）を持たせる。戦略関数は `Action::Surrender` を返せるようにする。
- Early の場合はディーラーBJ確認前にサレンダー処理を実行すること（Late は確認後）。
- サレンダー処理は賭け金の半額返却を行いラウンド終了とする（返却割合は設定可能にする）。
- テスト: 16 vs 9/10/A、15 vs 10 のケースでサレンダーが発生するユニットテストを追加する。

## 解説と運用上の注意

- 優先順位: まず「ペア分割（Split）」の判定を行い、次に「ソフトハンド（A含む）」、最後に「ハードハンド」を参照してください。サレンダーは設定（none/early/late）やペア・スプリット可否により適用が変わります。
- D（ダブル）はルールで許可される場合の指示です。許可されない環境では代替アクション（通常は H）にフォールバックしてください。
- SU（サレンダー）は設定依存のアクションです。本ドキュメントは Early を前提にした例を示していますが、実装ではモード切替をサポートしてください。
- 実装方針: 戦略は小さな関数に分割し、設定（ダブル可否、サレンダーモード、スプリット回数）を渡して決定する設計を推奨します。これによりテストと拡張が容易になります。
- ドキュメント運用: 詳細な派生ルール（サレンダーの早期/後期差、デッキ数別の最適戦略など）は別ファイルで扱い、ここは要点と運用上の注意に留めてください。
